<template>
    <div class="easter-egg">
        <h1 class="title">ğŸ‰ æ­å–œä½ å‘ç°äº†éšè—çš„å½©è›‹ï¼</h1>
        <p>å½“å‰æ¨¡å¼ï¼š{{env}}</p>
        <div class="dev-only" v-if="isDevelopment">
            <h1 class="title">Development ä¸“æœ‰å½©è›‹</h1>
            <p>ç‰ˆæœ¬å·ï¼š {{ version }}</p>
            <p v-if="checkIsBuildOnCommit">åŸºäº Commit {{ commitHash }} æ„å»º</p>
        </div>
    </div>
</template>

<script>
export default {
    name: "Easter-Egg",
    computed: {
        env() {
            return process.env.NODE_ENV;
        },
        version() {
            return process.env.VUE_APP_VERSION
        },
        isDevelopment() {
            return this.env === "development";
        },
        commitHash() {
            return process.env.VUE_APP_COMMIT_HASH
        },
        checkIsBuildOnCommit() {
            // undefined will be stringify to "undefined" 
            // Ref: https://github.com/vuejs/vue-cli/blob/dev/packages/%40vue/cli-service/lib/util/resolveClientEnv.js#L1
            return this.commitHash !== "undefined"
        }
    }
}
</script>
